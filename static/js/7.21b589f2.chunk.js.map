{"version":3,"sources":["../node_modules/@kennethormandy/react-fittext/lib/FitText.js","../node_modules/panzoom/index.js","../node_modules/wheel/index.js","../node_modules/amator/index.js","../node_modules/bezier-easing/src/index.js","../node_modules/ngraph.events/index.js","../node_modules/panzoom/lib/kinetic.js","../node_modules/panzoom/lib/createTextSelectionInterceptor.js","../node_modules/panzoom/lib/transform.js","../node_modules/panzoom/lib/svgController.js","../node_modules/panzoom/lib/domController.js","../node_modules/lodash.debounce/index.js","../node_modules/@restart/hooks/esm/useWillUnmount.js","../node_modules/@restart/hooks/esm/useUpdatedRef.js","../node_modules/@restart/hooks/esm/useTimeout.js","../node_modules/@restart/hooks/esm/useMounted.js","../node_modules/react-bootstrap/esm/ToastContext.js","../node_modules/react-bootstrap/esm/ToastHeader.js","../node_modules/react-bootstrap/esm/ToastBody.js","../node_modules/react-bootstrap/esm/Toast.js","../node_modules/react-bootstrap/esm/PopoverTitle.js","../node_modules/react-bootstrap/esm/PopoverContent.js","../node_modules/react-bootstrap/esm/Popover.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react2","_interopRequireDefault","require","_propTypes2","_lodash2","obj","__esModule","default","FitText","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","defaultFontSize","state","fontSize","_onBodyResize","bind","_parentNode","subClass","superClass","create","constructor","setPrototypeOf","_inherits","prevProps","parent","compressor","console","warn","document","getElementById","window","addEventListener","debounce","removeEventListener","Math","max","min","maxFontSize","minFontSize","element","offsetWidth","vertical","parentNode","offsetHeight","newFontSize","_getFontSize","setState","_this2","createElement","ref","el","style","children","Component","defaultProps","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","propTypes","oneOfType","string","number","object","wheel","animate","eventify","kinetic","createTextSelectionInterceptor","domTextSelectionInterceptor","fakeTextSelectorInterceptor","Transform","makeSvgController","makeDomController","createPanZoom","domElement","options","panController","controller","SVGElement","HTMLElement","Error","owner","getOwner","storedCTMResult","x","y","isDirty","transform","initTransform","frameAnimation","filterKey","noop","pinchSpeed","bounds","maxZoom","minZoom","boundsPadding","zoomDoubleClickSpeed","beforeWheel","beforeMouseDown","speed","zoomSpeed","transformOrigin","parseTransformOrigin","textSelection","enableTextSelection","boundsType","isNumber","left","top","bottom","right","validateBounds","autocenter","w","h","sceneBoundingBox","getBoundingBox","ownerRect","getBoundingClientRect","width","height","bbox","getBBox","dh","dw","scale","lastSingleFingerOffset","mouseX","mouseY","pinchZoomLength","smoothScroll","moveByAnimation","zoomToAnimation","multiTouch","lastTouchEndTime","touchInProgress","panstartFired","start","stop","cancel","cancelZoomAnimation","moveTo","paused","listenForEvents","api","dispose","releaseEvents","moveBy","internalMoveBy","centerOn","ui","ownerSVGElement","clientRect","cx","cy","container","dx","dy","zoomTo","publicZoomTo","zoomAbs","smoothZoom","smoothZoomAbs","clientX","clientY","toScaleValue","from","to","step","v","showRectangle","rect","size","transformToScreen","rectWidth","rectHeight","isFinite","pause","resume","isPaused","getTransform","getMinZoom","setMinZoom","newMinZoom","getMaxZoom","setMaxZoom","newMaxZoom","getTransformOrigin","setTransformOrigin","newTransformOrigin","getZoomSpeed","setZoomSpeed","newSpeed","getScreenCTM","parentCTM","parentScaleX","a","parentScaleY","d","parentOffsetX","e","parentOffsetY","f","keepTransformInsideBounds","triggerEvent","makeDirty","boundingBox","adjusted","leftTop","getClientRect","diff","sceneWidth","sceneHeight","requestAnimationFrame","frame","zoomByRatio","ratio","isNaN","newScale","zoomLevel","smooth","lastX","lastY","onMouseDown","passive","onDoubleClick","onTouch","onKeyDown","addWheelListener","onMouseWheel","removeWheelListener","cancelAnimationFrame","releaseDocumentMouse","releaseTouches","release","triggerPanEnd","applyTransform","z","keyCode","preventDefault","stopPropagation","offset","scaleMultiplier","getScaleMultiplier","getTransformOriginOffset","midPoint","beforeTouch","touches","getOffsetXY","point","startTouchListenerIfNeeded","handleSingleFingerTouch","getPinchZoomLength","handleTouchMove","handleTouchEnd","triggerPanStart","t1","t2","currentPinchLength","firstTouchPoint","secondTouchPoint","now","Date","finger1","finger2","sqrt","beforeDoubleClick","button","event","onMouseMove","onMouseUp","capture","srcElement","delta","deltaY","deltaMode","fromValue","done","triggerZoomEnd","sign","abs","name","fire","failTransformOrigin","error","join","module","scripts","getElementsByTagName","panzoomScript","src","match","query","getAttribute","globalName","started","tryAttach","querySelector","setTimeout","script","attrs","attributes","nameValue","getPanzoomAttributeNameValue","collectOptions","log","attr","substr","JSON","parse","autoRun","listener","useCapture","BezierEasing","animations","ease","easeIn","easeOut","easeInOut","linear","makeAggregateRaf","frontBuffer","Set","backBuffer","frameToken","next","clearAll","clear","callback","add","renderFrame","t","forEach","source","easing","scheduler","cb","id","clearTimeout","getScheduler","keys","previousAnimationId","durationInMs","duration","durationInFrames","loop","setValues","sharedScheduler","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","LinearEasing","mX1","mY1","mX2","mY2","sampleValues","Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","subject","reservedWords","hasOwnProperty","validateSubject","eventsStorage","registeredEvents","on","eventName","ctx","handlers","push","off","callbacks","splice","fireArguments","arguments","callbackInfo","apply","createEventsStorage","getPoint","scroll","settings","lastPoint","timestamp","ticker","vx","targetX","ax","vy","targetY","ay","raf","minVelocity","amplitude","global","handler","track","currentPoint","autoScroll","elapsed","dt","moving","exp","disabled","useFake","dragObject","prevSelectStart","prevDragStart","wasCaptured","domObject","onselectstart","ondragstart","svgElement","disableKeyboardInteraction","setAttribute","ctm","getCTM","screenCTM","removeAttributeNS","parentElement","scrollTop","clientWidth","clientHeight","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","freeSelf","root","Function","objectToString","toString","nativeMax","nativeMin","isObject","type","toNumber","isObjectLike","isSymbol","other","valueOf","replace","isBinary","test","slice","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","undefined","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","flush","useWillUnmount","fn","onUnmount","valueRef","useRef","current","useUpdatedRef","useEffect","useTimeout","isMounted","mounted","useMounted","handle","set","ms","ToastContext","React","createContext","onClose","ToastHeader","forwardRef","_ref","bsPrefix","closeLabel","closeButton","className","_objectWithoutPropertiesLoose","useBootstrapPrefix","context","useContext","handleClick","useEventCallback","_extends","classNames","CloseButton","label","onClick","displayName","createWithBsPrefix","animation","autohide","delay","show","transition","Fade","Toast","Transition","delayRef","onCloseRef","autohideTimeout","autohideFunc","useCallback","useAnimation","useMemo","toast","role","toastContext","Provider","in","Body","Header","PopoverTitle","_ref$as","as","PopoverContent","Popover","placement","content","arrowProps","scheduleUpdate","outOfBoundaries","decoratedBsPrefix","Title","Content"],"mappings":"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","file":"static/js/7.21b589f2.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * React FitText\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * https://github.com/kennethormandy/react-fittext\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Kenneth Ormandy\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * A rewrite of https://github.com/gianu/react-fittext (MIT)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * â€¦which is based on the FitText jQuery plugin\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://github.com/davatron5000/FitText.js\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar FitText = function (_React$Component) {\n  _inherits(FitText, _React$Component);\n\n  function FitText(props) {\n    _classCallCheck(this, FitText);\n\n    var _this = _possibleConstructorReturn(this, (FitText.__proto__ || Object.getPrototypeOf(FitText)).call(this, props));\n\n    var defaultFontSize = props.defaultFontSize;\n\n    if (typeof props.defaultFontSize === 'number') {\n      defaultFontSize = props.defaultFontSize + 'px';\n    }\n\n    _this.state = {\n      fontSize: defaultFontSize\n    };\n\n    _this._onBodyResize = _this._onBodyResize.bind(_this);\n    _this._parentNode = null;\n    return _this;\n  }\n\n  _createClass(FitText, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      // When a new parent ID is passed in, or the new parentNode\n      // is available, run resize again\n      if (this.props.parent !== prevProps.parent) {\n        this._onBodyResize();\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (0 >= this.props.compressor) {\n        console.warn('Warning: The compressor should be greater than 0.');\n      }\n\n      if (this.props.parent) {\n        this._parentNode = typeof this.props.parent === 'string' ? document.getElementById(this.props.parent) : this.props.parent;\n      }\n\n      window.addEventListener('resize', (0, _lodash2.default)(this._onBodyResize, this.props.debounce));\n      this._onBodyResize();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', (0, _lodash2.default)(this._onBodyResize, this.props.debounce));\n    }\n  }, {\n    key: '_getFontSize',\n    value: function _getFontSize(value) {\n      var props = this.props;\n\n      return Math.max(Math.min(value / (props.compressor * 10), props.maxFontSize), props.minFontSize);\n    }\n  }, {\n    key: '_onBodyResize',\n    value: function _onBodyResize() {\n      if (this.element && this.element.offsetWidth) {\n        var value = this.element.offsetWidth;\n\n        if (this.props.vertical) {\n          var parent = this._parentNode || this.element.parentNode;\n          value = parent.offsetHeight;\n        }\n\n        var newFontSize = this._getFontSize(value);\n\n        this.setState({\n          fontSize: newFontSize + 'px'\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          ref: function ref(el) {\n            return _this2.element = el;\n          },\n          style: { fontSize: this.state.fontSize } },\n        this.props.children\n      );\n    }\n  }]);\n\n  return FitText;\n}(_react2.default.Component);\n\nFitText.defaultProps = {\n  compressor: 1.0,\n  debounce: 100,\n  defaultFontSize: 'inherit',\n  minFontSize: Number.NEGATIVE_INFINITY,\n  maxFontSize: Number.POSITIVE_INFINITY\n};\n\nFitText.propTypes = {\n  children: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.string]),\n  compressor: _propTypes2.default.number,\n  debounce: _propTypes2.default.number,\n  defaultFontSize: _propTypes2.default.string,\n  minFontSize: _propTypes2.default.number,\n  maxFontSize: _propTypes2.default.number,\n  parent: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object])\n};\n\nexports.default = FitText;","'use strict';\n\n/* globals SVGElement */\n/**\n * Allows to drag and zoom svg elements\n */\nvar wheel = require('wheel');\nvar animate = require('amator');\nvar eventify = require('ngraph.events');\nvar kinetic = require('./lib/kinetic.js');\nvar createTextSelectionInterceptor = require('./lib/createTextSelectionInterceptor.js');\nvar domTextSelectionInterceptor = createTextSelectionInterceptor();\nvar fakeTextSelectorInterceptor = createTextSelectionInterceptor(true);\nvar Transform = require('./lib/transform.js');\nvar makeSvgController = require('./lib/svgController.js');\nvar makeDomController = require('./lib/domController.js');\n\nvar defaultZoomSpeed = 1;\nvar defaultDoubleTapZoomSpeed = 1.75;\nvar doubleTapSpeedInMS = 300;\n\nmodule.exports = createPanZoom;\n\n/**\n * Creates a new instance of panzoom, so that an object can be panned and zoomed\n *\n * @param {DOMElement} domElement where panzoom should be attached.\n * @param {Object} options that configure behavior.\n */\nfunction createPanZoom(domElement, options) {\n  options = options || {};\n\n  var panController = options.controller;\n\n  if (!panController) {\n    if (domElement instanceof SVGElement) {\n      panController = makeSvgController(domElement, options);\n    }\n\n    if (domElement instanceof HTMLElement) {\n      panController = makeDomController(domElement, options);\n    }\n  }\n\n  if (!panController) {\n    throw new Error(\n      'Cannot create panzoom for the current type of dom element'\n    );\n  }\n  var owner = panController.getOwner();\n  // just to avoid GC pressure, every time we do intermediate transform\n  // we return this object. For internal use only. Never give it back to the consumer of this library\n  var storedCTMResult = { x: 0, y: 0 };\n\n  var isDirty = false;\n  var transform = new Transform();\n\n  if (panController.initTransform) {\n    panController.initTransform(transform);\n  }\n\n  var filterKey = typeof options.filterKey === 'function' ? options.filterKey : noop;\n  // TODO: likely need to unite pinchSpeed with zoomSpeed\n  var pinchSpeed = typeof options.pinchSpeed === 'number' ? options.pinchSpeed : 1;\n  var bounds = options.bounds;\n  var maxZoom = typeof options.maxZoom === 'number' ? options.maxZoom : Number.POSITIVE_INFINITY;\n  var minZoom = typeof options.minZoom === 'number' ? options.minZoom : 0;\n\n  var boundsPadding = typeof options.boundsPadding === 'number' ? options.boundsPadding : 0.05;\n  var zoomDoubleClickSpeed = typeof options.zoomDoubleClickSpeed === 'number' ? options.zoomDoubleClickSpeed : defaultDoubleTapZoomSpeed;\n  var beforeWheel = options.beforeWheel || noop;\n  var beforeMouseDown = options.beforeMouseDown || noop;\n  var speed = typeof options.zoomSpeed === 'number' ? options.zoomSpeed : defaultZoomSpeed;\n  var transformOrigin = parseTransformOrigin(options.transformOrigin);\n  var textSelection = options.enableTextSelection ? fakeTextSelectorInterceptor : domTextSelectionInterceptor;\n\n  validateBounds(bounds);\n\n  if (options.autocenter) {\n    autocenter();\n  }\n\n  var frameAnimation;\n  var lastTouchEndTime = 0;\n  var lastSingleFingerOffset;\n  var touchInProgress = false;\n\n  // We only need to fire panstart when actual move happens\n  var panstartFired = false;\n\n  // cache mouse coordinates here\n  var mouseX;\n  var mouseY;\n\n  var pinchZoomLength;\n\n  var smoothScroll;\n  if ('smoothScroll' in options && !options.smoothScroll) {\n    // If user explicitly asked us not to use smooth scrolling, we obey\n    smoothScroll = rigidScroll();\n  } else {\n    // otherwise we use forward smoothScroll settings to kinetic API\n    // which makes scroll smoothing.\n    smoothScroll = kinetic(getPoint, scroll, options.smoothScroll);\n  }\n\n  var moveByAnimation;\n  var zoomToAnimation;\n\n  var multiTouch;\n  var paused = false;\n\n  listenForEvents();\n\n  var api = {\n    dispose: dispose,\n    moveBy: internalMoveBy,\n    moveTo: moveTo,\n    centerOn: centerOn,\n    zoomTo: publicZoomTo,\n    zoomAbs: zoomAbs,\n    smoothZoom: smoothZoom,\n    smoothZoomAbs: smoothZoomAbs,\n    showRectangle: showRectangle,\n\n    pause: pause,\n    resume: resume,\n    isPaused: isPaused,\n\n    getTransform: getTransformModel,\n\n    getMinZoom: getMinZoom,\n    setMinZoom: setMinZoom,\n\n    getMaxZoom: getMaxZoom,\n    setMaxZoom: setMaxZoom,\n\n    getTransformOrigin: getTransformOrigin,\n    setTransformOrigin: setTransformOrigin,\n\n    getZoomSpeed: getZoomSpeed,\n    setZoomSpeed: setZoomSpeed\n  };\n\n  eventify(api);\n\n  return api;\n\n  function pause() {\n    releaseEvents();\n    paused = true;\n  }\n\n  function resume() {\n    if (paused) {\n      listenForEvents();\n      paused = false;\n    }\n  }\n\n  function isPaused() {\n    return paused;\n  }\n\n  function showRectangle(rect) {\n    // TODO: this duplicates autocenter. I think autocenter should go.\n    var clientRect = owner.getBoundingClientRect();\n    var size = transformToScreen(clientRect.width, clientRect.height);\n\n    var rectWidth = rect.right - rect.left;\n    var rectHeight = rect.bottom - rect.top;\n    if (!Number.isFinite(rectWidth) || !Number.isFinite(rectHeight)) {\n      throw new Error('Invalid rectangle');\n    }\n\n    var dw = size.x / rectWidth;\n    var dh = size.y / rectHeight;\n    var scale = Math.min(dw, dh);\n    transform.x = -(rect.left + rectWidth / 2) * scale + size.x / 2;\n    transform.y = -(rect.top + rectHeight / 2) * scale + size.y / 2;\n    transform.scale = scale;\n  }\n\n  function transformToScreen(x, y) {\n    if (panController.getScreenCTM) {\n      var parentCTM = panController.getScreenCTM();\n      var parentScaleX = parentCTM.a;\n      var parentScaleY = parentCTM.d;\n      var parentOffsetX = parentCTM.e;\n      var parentOffsetY = parentCTM.f;\n      storedCTMResult.x = x * parentScaleX - parentOffsetX;\n      storedCTMResult.y = y * parentScaleY - parentOffsetY;\n    } else {\n      storedCTMResult.x = x;\n      storedCTMResult.y = y;\n    }\n\n    return storedCTMResult;\n  }\n\n  function autocenter() {\n    var w; // width of the parent\n    var h; // height of the parent\n    var left = 0;\n    var top = 0;\n    var sceneBoundingBox = getBoundingBox();\n    if (sceneBoundingBox) {\n      // If we have bounding box - use it.\n      left = sceneBoundingBox.left;\n      top = sceneBoundingBox.top;\n      w = sceneBoundingBox.right - sceneBoundingBox.left;\n      h = sceneBoundingBox.bottom - sceneBoundingBox.top;\n    } else {\n      // otherwise just use whatever space we have\n      var ownerRect = owner.getBoundingClientRect();\n      w = ownerRect.width;\n      h = ownerRect.height;\n    }\n    var bbox = panController.getBBox();\n    if (bbox.width === 0 || bbox.height === 0) {\n      // we probably do not have any elements in the SVG\n      // just bail out;\n      return;\n    }\n    var dh = h / bbox.height;\n    var dw = w / bbox.width;\n    var scale = Math.min(dw, dh);\n    transform.x = -(bbox.left + bbox.width / 2) * scale + w / 2 + left;\n    transform.y = -(bbox.top + bbox.height / 2) * scale + h / 2 + top;\n    transform.scale = scale;\n  }\n\n  function getTransformModel() {\n    // TODO: should this be read only?\n    return transform;\n  }\n\n  function getMinZoom() {\n    return minZoom;\n  }\n\n  function setMinZoom(newMinZoom) {\n    minZoom = newMinZoom;\n  }\n\n  function getMaxZoom() {\n    return maxZoom;\n  }\n\n  function setMaxZoom(newMaxZoom) {\n    maxZoom = newMaxZoom;\n  }\n\n  function getTransformOrigin() {\n    return transformOrigin;\n  }\n\n  function setTransformOrigin(newTransformOrigin) {\n    transformOrigin = parseTransformOrigin(newTransformOrigin);\n  }\n\n  function getZoomSpeed() {\n    return speed;\n  }\n\n  function setZoomSpeed(newSpeed) {\n    if (!Number.isFinite(newSpeed)) {\n      throw new Error('Zoom speed should be a number');\n    }\n    speed = newSpeed;\n  }\n\n  function getPoint() {\n    return {\n      x: transform.x,\n      y: transform.y\n    };\n  }\n\n  function moveTo(x, y) {\n    transform.x = x;\n    transform.y = y;\n\n    keepTransformInsideBounds();\n\n    triggerEvent('pan');\n    makeDirty();\n  }\n\n  function moveBy(dx, dy) {\n    moveTo(transform.x + dx, transform.y + dy);\n  }\n\n  function keepTransformInsideBounds() {\n    var boundingBox = getBoundingBox();\n    if (!boundingBox) return;\n\n    var adjusted = false;\n    var clientRect = getClientRect();\n\n    var diff = boundingBox.left - clientRect.right;\n    if (diff > 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n    // check the other side:\n    diff = boundingBox.right - clientRect.left;\n    if (diff < 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n\n    // y axis:\n    diff = boundingBox.top - clientRect.bottom;\n    if (diff > 0) {\n      // we adjust transform, so that it matches exactly our bounding box:\n      // transform.y = boundingBox.top - (boundingBox.height + boundingBox.y) * transform.scale =>\n      // transform.y = boundingBox.top - (clientRect.bottom - transform.y) =>\n      // transform.y = diff + transform.y =>\n      transform.y += diff;\n      adjusted = true;\n    }\n\n    diff = boundingBox.bottom - clientRect.top;\n    if (diff < 0) {\n      transform.y += diff;\n      adjusted = true;\n    }\n    return adjusted;\n  }\n\n  /**\n   * Returns bounding box that should be used to restrict scene movement.\n   */\n  function getBoundingBox() {\n    if (!bounds) return; // client does not want to restrict movement\n\n    if (typeof bounds === 'boolean') {\n      // for boolean type we use parent container bounds\n      var ownerRect = owner.getBoundingClientRect();\n      var sceneWidth = ownerRect.width;\n      var sceneHeight = ownerRect.height;\n\n      return {\n        left: sceneWidth * boundsPadding,\n        top: sceneHeight * boundsPadding,\n        right: sceneWidth * (1 - boundsPadding),\n        bottom: sceneHeight * (1 - boundsPadding)\n      };\n    }\n\n    return bounds;\n  }\n\n  function getClientRect() {\n    var bbox = panController.getBBox();\n    var leftTop = client(bbox.left, bbox.top);\n\n    return {\n      left: leftTop.x,\n      top: leftTop.y,\n      right: bbox.width * transform.scale + leftTop.x,\n      bottom: bbox.height * transform.scale + leftTop.y\n    };\n  }\n\n  function client(x, y) {\n    return {\n      x: x * transform.scale + transform.x,\n      y: y * transform.scale + transform.y\n    };\n  }\n\n  function makeDirty() {\n    isDirty = true;\n    frameAnimation = window.requestAnimationFrame(frame);\n  }\n\n  function zoomByRatio(clientX, clientY, ratio) {\n    if (isNaN(clientX) || isNaN(clientY) || isNaN(ratio)) {\n      throw new Error('zoom requires valid numbers');\n    }\n\n    var newScale = transform.scale * ratio;\n\n    if (newScale < minZoom) {\n      if (transform.scale === minZoom) return;\n\n      ratio = minZoom / transform.scale;\n    }\n    if (newScale > maxZoom) {\n      if (transform.scale === maxZoom) return;\n\n      ratio = maxZoom / transform.scale;\n    }\n\n    var size = transformToScreen(clientX, clientY);\n\n    transform.x = size.x - ratio * (size.x - transform.x);\n    transform.y = size.y - ratio * (size.y - transform.y);\n\n    // TODO: https://github.com/anvaka/panzoom/issues/112\n    if (bounds && boundsPadding === 1 && minZoom === 1) {\n      transform.scale *= ratio;\n      keepTransformInsideBounds();\n    } else {\n      var transformAdjusted = keepTransformInsideBounds();\n      if (!transformAdjusted) transform.scale *= ratio;\n    }\n\n    triggerEvent('zoom');\n\n    makeDirty();\n  }\n\n  function zoomAbs(clientX, clientY, zoomLevel) {\n    var ratio = zoomLevel / transform.scale;\n    zoomByRatio(clientX, clientY, ratio);\n  }\n\n  function centerOn(ui) {\n    var parent = ui.ownerSVGElement;\n    if (!parent)\n      throw new Error('ui element is required to be within the scene');\n\n    // TODO: should i use controller's screen CTM?\n    var clientRect = ui.getBoundingClientRect();\n    var cx = clientRect.left + clientRect.width / 2;\n    var cy = clientRect.top + clientRect.height / 2;\n\n    var container = parent.getBoundingClientRect();\n    var dx = container.width / 2 - cx;\n    var dy = container.height / 2 - cy;\n\n    internalMoveBy(dx, dy, true);\n  }\n\n  function internalMoveBy(dx, dy, smooth) {\n    if (!smooth) {\n      return moveBy(dx, dy);\n    }\n\n    if (moveByAnimation) moveByAnimation.cancel();\n\n    var from = { x: 0, y: 0 };\n    var to = { x: dx, y: dy };\n    var lastX = 0;\n    var lastY = 0;\n\n    moveByAnimation = animate(from, to, {\n      step: function (v) {\n        moveBy(v.x - lastX, v.y - lastY);\n\n        lastX = v.x;\n        lastY = v.y;\n      }\n    });\n  }\n\n  function scroll(x, y) {\n    cancelZoomAnimation();\n    moveTo(x, y);\n  }\n\n  function dispose() {\n    releaseEvents();\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown, { passive: false });\n    owner.addEventListener('dblclick', onDoubleClick, { passive: false });\n    owner.addEventListener('touchstart', onTouch, { passive: false });\n    owner.addEventListener('keydown', onKeyDown, { passive: false });\n\n    // Need to listen on the owner container, so that we are not limited\n    // by the size of the scrollable domElement\n    wheel.addWheelListener(owner, onMouseWheel, { passive: false });\n\n    makeDirty();\n  }\n\n  function releaseEvents() {\n    wheel.removeWheelListener(owner, onMouseWheel);\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('keydown', onKeyDown);\n    owner.removeEventListener('dblclick', onDoubleClick);\n    owner.removeEventListener('touchstart', onTouch);\n\n    if (frameAnimation) {\n      window.cancelAnimationFrame(frameAnimation);\n      frameAnimation = 0;\n    }\n\n    smoothScroll.cancel();\n\n    releaseDocumentMouse();\n    releaseTouches();\n    textSelection.release();\n\n    triggerPanEnd();\n  }\n\n  function frame() {\n    if (isDirty) applyTransform();\n  }\n\n  function applyTransform() {\n    isDirty = false;\n\n    // TODO: Should I allow to cancel this?\n    panController.applyTransform(transform);\n\n    triggerEvent('transform');\n    frameAnimation = 0;\n  }\n\n  function onKeyDown(e) {\n    var x = 0,\n      y = 0,\n      z = 0;\n    if (e.keyCode === 38) {\n      y = 1; // up\n    } else if (e.keyCode === 40) {\n      y = -1; // down\n    } else if (e.keyCode === 37) {\n      x = 1; // left\n    } else if (e.keyCode === 39) {\n      x = -1; // right\n    } else if (e.keyCode === 189 || e.keyCode === 109) {\n      // DASH or SUBTRACT\n      z = 1; // `-` -  zoom out\n    } else if (e.keyCode === 187 || e.keyCode === 107) {\n      // EQUAL SIGN or ADD\n      z = -1; // `=` - zoom in (equal sign on US layout is under `+`)\n    }\n\n    if (filterKey(e, x, y, z)) {\n      // They don't want us to handle the key: https://github.com/anvaka/panzoom/issues/45\n      return;\n    }\n\n    if (x || y) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var clientRect = owner.getBoundingClientRect();\n      // movement speed should be the same in both X and Y direction:\n      var offset = Math.min(clientRect.width, clientRect.height);\n      var moveSpeedRatio = 0.05;\n      var dx = offset * moveSpeedRatio * x;\n      var dy = offset * moveSpeedRatio * y;\n\n      // TODO: currently we do not animate this. It could be better to have animation\n      internalMoveBy(dx, dy);\n    }\n\n    if (z) {\n      var scaleMultiplier = getScaleMultiplier(z * 100);\n      var offset = transformOrigin ? getTransformOriginOffset() : midPoint();\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n    }\n  }\n\n  function midPoint() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width / 2,\n      y: ownerRect.height / 2\n    };\n  }\n\n  function onTouch(e) {\n    // let the override the touch behavior\n    beforeTouch(e);\n\n    if (e.touches.length === 1) {\n      return handleSingleFingerTouch(e, e.touches[0]);\n    } else if (e.touches.length === 2) {\n      // handleTouchMove() will care about pinch zoom.\n      pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n      multiTouch = true;\n      startTouchListenerIfNeeded();\n    }\n  }\n\n  function beforeTouch(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeTouch`\n    if (options.onTouch && !options.onTouch(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/12\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function beforeDoubleClick(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeDoubleClick``\n    if (options.onDoubleClick && !options.onDoubleClick(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/46\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleSingleFingerTouch(e) {\n    var touch = e.touches[0];\n    var offset = getOffsetXY(touch);\n    lastSingleFingerOffset = offset;\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n\n    smoothScroll.cancel();\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (touchInProgress) {\n      // no need to do anything, as we already listen to events;\n      return;\n    }\n\n    touchInProgress = true;\n    document.addEventListener('touchmove', handleTouchMove);\n    document.addEventListener('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length === 1) {\n      e.stopPropagation();\n      var touch = e.touches[0];\n\n      var offset = getOffsetXY(touch);\n      var point = transformToScreen(offset.x, offset.y);\n\n      var dx = point.x - mouseX;\n      var dy = point.y - mouseY;\n\n      if (dx !== 0 && dy !== 0) {\n        triggerPanStart();\n      }\n      mouseX = point.x;\n      mouseY = point.y;\n      internalMoveBy(dx, dy);\n    } else if (e.touches.length === 2) {\n      // it's a zoom, let's find direction\n      multiTouch = true;\n      var t1 = e.touches[0];\n      var t2 = e.touches[1];\n      var currentPinchLength = getPinchZoomLength(t1, t2);\n\n      // since the zoom speed is always based on distance from 1, we need to apply\n      // pinch speed only on that distance from 1:\n      var scaleMultiplier =\n        1 + (currentPinchLength / pinchZoomLength - 1) * pinchSpeed;\n\n      var firstTouchPoint = getOffsetXY(t1);\n      var secondTouchPoint = getOffsetXY(t2);\n      mouseX = (firstTouchPoint.x + secondTouchPoint.x) / 2;\n      mouseY = (firstTouchPoint.y + secondTouchPoint.y) / 2;\n      if (transformOrigin) {\n        var offset = getTransformOriginOffset();\n        mouseX = offset.x;\n        mouseY = offset.y;\n      }\n\n      publicZoomTo(mouseX, mouseY, scaleMultiplier);\n\n      pinchZoomLength = currentPinchLength;\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 0) {\n      var offset = getOffsetXY(e.touches[0]);\n      var point = transformToScreen(offset.x, offset.y);\n      mouseX = point.x;\n      mouseY = point.y;\n    } else {\n      var now = new Date();\n      if (now - lastTouchEndTime < doubleTapSpeedInMS) {\n        if (transformOrigin) {\n          var offset = getTransformOriginOffset();\n          smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n        } else {\n          // We want untransformed x/y here.\n          smoothZoom(lastSingleFingerOffset.x, lastSingleFingerOffset.y, zoomDoubleClickSpeed);\n        }\n      }\n\n      lastTouchEndTime = now;\n\n      touchInProgress = false;\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function getPinchZoomLength(finger1, finger2) {\n    var dx = finger1.clientX - finger2.clientX;\n    var dy = finger1.clientY - finger2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function onDoubleClick(e) {\n    beforeDoubleClick(e);\n    var offset = getOffsetXY(e);\n    if (transformOrigin) {\n      // TODO: looks like this is duplicated in the file.\n      // Need to refactor\n      offset = getTransformOriginOffset();\n    }\n    smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n  }\n\n  function onMouseDown(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeMouseDown(e)) return;\n\n    if (touchInProgress) {\n      // modern browsers will fire mousedown for touch events too\n      // we do not want this: touch is handled separately.\n      e.stopPropagation();\n      return false;\n    }\n    // for IE, left click == 1\n    // for Firefox, left click == 0\n    var isLeftButton =\n      (e.button === 1 && window.event !== null) || e.button === 0;\n    if (!isLeftButton) return;\n\n    smoothScroll.cancel();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n\n    // We need to listen on document itself, since mouse can go outside of the\n    // window, and we will loose it\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    textSelection.capture(e.target || e.srcElement);\n\n    return false;\n  }\n\n  function onMouseMove(e) {\n    // no need to worry about mouse events when touch is happening\n    if (touchInProgress) return;\n\n    triggerPanStart();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    var dx = point.x - mouseX;\n    var dy = point.y - mouseY;\n\n    mouseX = point.x;\n    mouseY = point.y;\n\n    internalMoveBy(dx, dy);\n  }\n\n  function onMouseUp() {\n    textSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    panstartFired = false;\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n    panstartFired = false;\n    multiTouch = false;\n  }\n\n  function onMouseWheel(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeWheel(e)) return;\n\n    smoothScroll.cancel();\n\n    var delta = e.deltaY;\n    if (e.deltaMode > 0) delta *= 100;\n\n    var scaleMultiplier = getScaleMultiplier(delta);\n\n    if (scaleMultiplier !== 1) {\n      var offset = transformOrigin\n        ? getTransformOriginOffset()\n        : getOffsetXY(e);\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n      e.preventDefault();\n    }\n  }\n\n  function getOffsetXY(e) {\n    var offsetX, offsetY;\n    // I tried using e.offsetX, but that gives wrong results for svg, when user clicks on a path.\n    var ownerRect = owner.getBoundingClientRect();\n    offsetX = e.clientX - ownerRect.left;\n    offsetY = e.clientY - ownerRect.top;\n\n    return { x: offsetX, y: offsetY };\n  }\n\n  function smoothZoom(clientX, clientY, scaleMultiplier) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: scaleMultiplier * fromValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      },\n      done: triggerZoomEnd\n    });\n  }\n\n  function smoothZoomAbs(clientX, clientY, toScaleValue) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: toScaleValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      }\n    });\n  }\n\n  function getTransformOriginOffset() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width * transformOrigin.x,\n      y: ownerRect.height * transformOrigin.y\n    };\n  }\n\n  function publicZoomTo(clientX, clientY, scaleMultiplier) {\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    return zoomByRatio(clientX, clientY, scaleMultiplier);\n  }\n\n  function cancelZoomAnimation() {\n    if (zoomToAnimation) {\n      zoomToAnimation.cancel();\n      zoomToAnimation = null;\n    }\n  }\n\n  function getScaleMultiplier(delta) {\n    var sign = Math.sign(delta);\n    var deltaAdjustedSpeed = Math.min(0.25, Math.abs(speed * delta / 128));\n    return 1 - sign * deltaAdjustedSpeed;\n  }\n\n  function triggerPanStart() {\n    if (!panstartFired) {\n      triggerEvent('panstart');\n      panstartFired = true;\n      smoothScroll.start();\n    }\n  }\n\n  function triggerPanEnd() {\n    if (panstartFired) {\n      // we should never run smooth scrolling if it was multiTouch (pinch zoom animation):\n      if (!multiTouch) smoothScroll.stop();\n      triggerEvent('panend');\n    }\n  }\n\n  function triggerZoomEnd() {\n    triggerEvent('zoomend');\n  }\n\n  function triggerEvent(name) {\n    api.fire(name, api);\n  }\n}\n\nfunction parseTransformOrigin(options) {\n  if (!options) return;\n  if (typeof options === 'object') {\n    if (!isNumber(options.x) || !isNumber(options.y))\n      failTransformOrigin(options);\n    return options;\n  }\n\n  failTransformOrigin();\n}\n\nfunction failTransformOrigin(options) {\n  console.error(options);\n  throw new Error(\n    [\n      'Cannot parse transform origin.',\n      'Some good examples:',\n      '  \"center center\" can be achieved with {x: 0.5, y: 0.5}',\n      '  \"top center\" can be achieved with {x: 0.5, y: 0}',\n      '  \"bottom right\" can be achieved with {x: 1, y: 1}'\n    ].join('\\n')\n  );\n}\n\nfunction noop() { }\n\nfunction validateBounds(bounds) {\n  var boundsType = typeof bounds;\n  if (boundsType === 'undefined' || boundsType === 'boolean') return; // this is okay\n  // otherwise need to be more thorough:\n  var validBounds =\n    isNumber(bounds.left) &&\n    isNumber(bounds.top) &&\n    isNumber(bounds.bottom) &&\n    isNumber(bounds.right);\n\n  if (!validBounds)\n    throw new Error(\n      'Bounds object is not valid. It can be: ' +\n      'undefined, boolean (true|false) or an object {left, top, right, bottom}'\n    );\n}\n\nfunction isNumber(x) {\n  return Number.isFinite(x);\n}\n\n// IE 11 does not support isNaN:\nfunction isNaN(value) {\n  if (Number.isNaN) {\n    return Number.isNaN(value);\n  }\n\n  return value !== value;\n}\n\nfunction rigidScroll() {\n  return {\n    start: noop,\n    stop: noop,\n    cancel: noop\n  };\n}\n\nfunction autoRun() {\n  if (typeof document === 'undefined') return;\n\n  var scripts = document.getElementsByTagName('script');\n  if (!scripts) return;\n  var panzoomScript;\n\n  for (var i = 0; i < scripts.length; ++i) {\n    var x = scripts[i];\n    if (x.src && x.src.match(/\\bpanzoom(\\.min)?\\.js/)) {\n      panzoomScript = x;\n      break;\n    }\n  }\n\n  if (!panzoomScript) return;\n\n  var query = panzoomScript.getAttribute('query');\n  if (!query) return;\n\n  var globalName = panzoomScript.getAttribute('name') || 'pz';\n  var started = Date.now();\n\n  tryAttach();\n\n  function tryAttach() {\n    var el = document.querySelector(query);\n    if (!el) {\n      var now = Date.now();\n      var elapsed = now - started;\n      if (elapsed < 2000) {\n        // Let's wait a bit\n        setTimeout(tryAttach, 100);\n        return;\n      }\n      // If we don't attach within 2 seconds to the target element, consider it a failure\n      console.error('Cannot find the panzoom element', globalName);\n      return;\n    }\n    var options = collectOptions(panzoomScript);\n    console.log(options);\n    window[globalName] = createPanZoom(el, options);\n  }\n\n  function collectOptions(script) {\n    var attrs = script.attributes;\n    var options = {};\n    for (var i = 0; i < attrs.length; ++i) {\n      var attr = attrs[i];\n      var nameValue = getPanzoomAttributeNameValue(attr);\n      if (nameValue) {\n        options[nameValue.name] = nameValue.value;\n      }\n    }\n\n    return options;\n  }\n\n  function getPanzoomAttributeNameValue(attr) {\n    if (!attr.name) return;\n    var isPanZoomAttribute =\n      attr.name[0] === 'p' && attr.name[1] === 'z' && attr.name[2] === '-';\n\n    if (!isPanZoomAttribute) return;\n\n    var name = attr.name.substr(3);\n    var value = JSON.parse(attr.value);\n    return { name: name, value: value };\n  }\n}\n\nautoRun();\n","/**\n * This module used to unify mouse wheel behavior between different browsers in 2014\n * Now it's just a wrapper around addEventListener('wheel');\n *\n * Usage:\n *  var addWheelListener = require('wheel').addWheelListener;\n *  var removeWheelListener = require('wheel').removeWheelListener;\n *  addWheelListener(domElement, function (e) {\n *    // mouse wheel event\n *  });\n *  removeWheelListener(domElement, function);\n */\n\nmodule.exports = addWheelListener;\n\n// But also expose \"advanced\" api with unsubscribe:\nmodule.exports.addWheelListener = addWheelListener;\nmodule.exports.removeWheelListener = removeWheelListener;\n\n\nfunction addWheelListener(element, listener, useCapture) {\n  element.addEventListener('wheel', listener, useCapture);\n}\n\nfunction removeWheelListener( element, listener, useCapture ) {\n  element.removeEventListener('wheel', listener, useCapture);\n}","var BezierEasing = require('bezier-easing')\n\n// Predefined set of animations. Similar to CSS easing functions\nvar animations = {\n  ease:  BezierEasing(0.25, 0.1, 0.25, 1),\n  easeIn: BezierEasing(0.42, 0, 1, 1),\n  easeOut: BezierEasing(0, 0, 0.58, 1),\n  easeInOut: BezierEasing(0.42, 0, 0.58, 1),\n  linear: BezierEasing(0, 0, 1, 1)\n}\n\n\nmodule.exports = animate;\nmodule.exports.makeAggregateRaf = makeAggregateRaf;\nmodule.exports.sharedScheduler = makeAggregateRaf();\n\n\nfunction animate(source, target, options) {\n  var start = Object.create(null)\n  var diff = Object.create(null)\n  options = options || {}\n  // We let clients specify their own easing function\n  var easing = (typeof options.easing === 'function') ? options.easing : animations[options.easing]\n\n  // if nothing is specified, default to ease (similar to CSS animations)\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n    easing = animations.ease\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop\n  var done = typeof options.done === 'function' ? options.done : noop\n\n  var scheduler = getScheduler(options.scheduler)\n\n  var keys = Object.keys(target)\n  keys.forEach(function(key) {\n    start[key] = source[key]\n    diff[key] = target[key] - source[key]\n  })\n\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400\n  var durationInFrames = Math.max(1, durationInMs * 0.06) // 0.06 because 60 frames pers 1,000 ms\n  var previousAnimationId\n  var frame = 0\n\n  previousAnimationId = scheduler.next(loop)\n\n  return {\n    cancel: cancel\n  }\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId)\n    previousAnimationId = 0\n  }\n\n  function loop() {\n    var t = easing(frame/durationInFrames)\n    frame += 1\n    setValues(t)\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop)\n      step(source)\n    } else {\n      previousAnimationId = 0\n      setTimeout(function() { done(source) }, 0)\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function(key) {\n      source[key] = diff[key] * t + start[key]\n    })\n  }\n}\n\nfunction noop() { }\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame\n    return canRaf ? rafScheduler() : timeoutScheduler()\n  }\n  if (typeof scheduler.next !== 'function') throw new Error('Scheduler is supposed to have next(cb) function')\n  if (typeof scheduler.cancel !== 'function') throw new Error('Scheduler is supposed to have cancel(handle) function')\n\n  return scheduler\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  }\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function(cb) {\n      return setTimeout(cb, 1000/60)\n    },\n    cancel: function (id) {\n      return clearTimeout(id)\n    }\n  }\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  }\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) frameToken = requestAnimationFrame(renderFrame);\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\r\n\n    frontBuffer.forEach(function(callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n\n  function cancel(callback) {\n    backBuffer.delete(callback);\n  }\n}\n","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by GaÃ«tan Renaudeau 2014 - 2015 â€“ MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\n\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n\n  var raf;\n\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n\n  function start() {\n    lastPoint = getPoint();\n\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    ticker = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n\n    var currentPoint = getPoint();\n\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n\n    lastPoint = currentPoint;\n\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n\n    ticker = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    var currentPoint = getPoint();\n\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n\n    raf = requestAnimationFrame(autoScroll);\n  }\n\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n\n      if (dx > 0.5 || dx < -0.5) moving = true;\n      else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n\n      if (dy > 0.5 || dy < -0.5) moving = true;\n      else dy = ay = 0;\n    }\n\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof global.cancelAnimationFrame === 'function') return global.cancelAnimationFrame;\n\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof global.requestAnimationFrame === 'function') return global.requestAnimationFrame;\n\n  return function (handler) {\n    return setTimeout(handler, 16);\n  }\n}","/**\n * Disallows selecting text.\n */\nmodule.exports = createTextSelectionInterceptor;\n\nfunction createTextSelectionInterceptor(useFake) {\n  if (useFake) {\n    return {\n      capture: noop,\n      release: noop\n    };\n  }\n\n  var dragObject;\n  var prevSelectStart;\n  var prevDragStart;\n  var wasCaptured = false;\n\n  return {\n    capture: capture,\n    release: release\n  };\n\n  function capture(domObject) {\n    wasCaptured = true;\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n\n    window.document.onselectstart = disabled;\n\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    if (!wasCaptured) return;\n    \n    wasCaptured = false;\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\nfunction noop() {}\n","module.exports = Transform;\n\nfunction Transform() {\n  this.x = 0;\n  this.y = 0;\n  this.scale = 1;\n}\n","module.exports = makeSvgController\n\nfunction makeSvgController(svgElement, options) {\n  var elementValid = (svgElement instanceof SVGElement)\n  if (!elementValid) {\n    throw new Error('svg element is required for svg.panzoom to work')\n  }\n\n  var owner = svgElement.ownerSVGElement\n  if (!owner) {\n    throw new Error(\n      'Do not apply panzoom to the root <svg> element. ' +\n      'Use its child instead (e.g. <g></g>). ' +\n      'As of March 2016 only FireFox supported transform on the root element')\n  }\n\n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getScreenCTM: getScreenCTM,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n    initTransform: initTransform\n  }\n  \n  return api\n\n  function getOwner() {\n    return owner\n  }\n\n  function getBBox() {\n    var bbox =  svgElement.getBBox()\n    return {\n      left: bbox.x,\n      top: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    }\n  }\n\n  function getScreenCTM() {\n    var ctm = owner.getCTM();\n    if (!ctm) {\n      // This is likely firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=873106\n      // The code below is not entirely correct, but still better than nothing\n      return owner.getScreenCTM();\n    }\n    return ctm;\n  }\n\n  function initTransform(transform) {\n    var screenCTM = svgElement.getCTM()\n    transform.x = screenCTM.e;\n    transform.y = screenCTM.f;\n    transform.scale = screenCTM.a;\n    owner.removeAttributeNS(null, 'viewBox');\n  }\n\n  function applyTransform(transform) {\n    svgElement.setAttribute('transform', 'matrix(' +\n      transform.scale + ' 0 0 ' +\n      transform.scale + ' ' +\n      transform.x + ' ' + transform.y + ')')\n  }\n}","module.exports = makeDomController\n\nfunction makeDomController(domElement, options) {\n  var elementValid = (domElement instanceof HTMLElement)\n  if (!elementValid) {\n    throw new Error('svg element is required for svg.panzoom to work')\n  }\n\n  var owner = domElement.parentElement\n  if (!owner) {\n    throw new Error(\n      'Do not apply panzoom to the detached DOM element. '\n    )\n  }\n\n  domElement.scrollTop = 0;\n  \n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n  }\n  \n  return api\n\n  function getOwner() {\n    return owner\n  }\n\n  function getBBox() {\n    // TODO: We should probably cache this?\n    return  {\n      left: 0,\n      top: 0,\n      width: domElement.clientWidth,\n      height: domElement.clientHeight\n    }\n  }\n\n  function applyTransform(transform) {\n    // TODO: Should we cache this?\n    domElement.style.transformOrigin = '0 0 0';\n    domElement.style.transform = 'matrix(' +\n      transform.scale + ', 0, 0, ' +\n      transform.scale + ', ' +\n      transform.x + ', ' + transform.y + ')'\n  }\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import useUpdatedRef from './useUpdatedRef';\nimport { useEffect } from 'react';\n/**\n * Attach a callback that fires when a component unmounts\n *\n * @param fn Handler to run when the component unmounts\n */\n\nexport default function useWillUnmount(fn) {\n  var onUnmount = useUpdatedRef(fn);\n  useEffect(function () {\n    return function () {\n      return onUnmount.current();\n    };\n  }, []);\n}","import { useRef } from 'react';\n/**\n * Returns a ref that is immediately updated with the new value\n *\n * @param value The Ref value\n */\n\nexport default function useUpdatedRef(value) {\n  var valueRef = useRef(value);\n  valueRef.current = value;\n  return valueRef;\n}","import { useRef } from 'react';\nimport useWillUnmount from './useWillUnmount';\nimport useMounted from './useMounted';\n/**\n * Returns a controller object for setting a timeout that is properly cleaned up\n * once the component unmounts. New timeouts cancel and replace existing ones.\n */\n\nexport default function useTimeout() {\n  var isMounted = useMounted();\n  var handle = useRef();\n\n  var clear = function clear() {\n    return clearTimeout(handle.current);\n  };\n\n  useWillUnmount(clear);\n  return {\n    set: function set(fn, ms) {\n      if (!isMounted()) return;\n      clear();\n      handle.current = setTimeout(fn, ms);\n    },\n    clear: clear\n  };\n}","import { useRef, useEffect } from 'react';\n/**\n * Track whether a component is current mounted. Generally less preferable than\n * properlly canceling effects so they don't run after a component is unmounted,\n * but helpful in cases where that isn't feasible, such as a `Promise` resolution.\n *\n * @returns a function that returns the current isMounted state of the component\n *\n * ```ts\n * const [data, setData] = useState(null)\n * const isMounted = useMounted()\n *\n * useEffect(() => {\n *   fetchdata().then((newData) => {\n *      if (isMounted()) {\n *        setData(newData);\n *      }\n *   })\n * })\n * ```\n */\n\nexport default function useMounted() {\n  var mounted = useRef(true);\n  var isMounted = useRef(function () {\n    return mounted.current;\n  });\n  useEffect(function () {\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  return isMounted.current;\n}","import React from 'react';\nvar ToastContext = React.createContext({\n  onClose: function onClose() {}\n});\nexport default ToastContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport CloseButton from './CloseButton';\nimport ToastContext from './ToastContext';\nvar defaultProps = {\n  closeLabel: 'Close',\n  closeButton: true\n};\nvar ToastHeader = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      closeLabel = _ref.closeLabel,\n      closeButton = _ref.closeButton,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"closeLabel\", \"closeButton\", \"className\", \"children\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'toast-header');\n  var context = useContext(ToastContext);\n  var handleClick = useEventCallback(function () {\n    if (context) {\n      context.onClose();\n    }\n  });\n  return React.createElement(\"div\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(bsPrefix, className)\n  }), children, closeButton && React.createElement(CloseButton, {\n    label: closeLabel,\n    onClick: handleClick,\n    className: \"ml-2 mb-1\",\n    \"data-dismiss\": \"toast\"\n  }));\n});\nToastHeader.displayName = 'ToastHeader';\nToastHeader.defaultProps = defaultProps;\nexport default ToastHeader;","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('toast-body');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useEffect, useRef, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport Fade from './Fade';\nimport Header from './ToastHeader';\nimport Body from './ToastBody';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ToastContext from './ToastContext';\nvar defaultProps = {\n  animation: true,\n  autohide: false,\n  delay: 3000,\n  show: true,\n  transition: Fade\n};\nvar Toast = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      Transition = _ref.transition,\n      show = _ref.show,\n      animation = _ref.animation,\n      delay = _ref.delay,\n      autohide = _ref.autohide,\n      onClose = _ref.onClose,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"transition\", \"show\", \"animation\", \"delay\", \"autohide\", \"onClose\"]);\n\n  bsPrefix = useBootstrapPrefix('toast');\n  var delayRef = useRef(delay);\n  var onCloseRef = useRef(onClose);\n  useEffect(function () {\n    // We use refs for these, because we don't want to restart the autohide\n    // timer in case these values change.\n    delayRef.current = delay;\n    onCloseRef.current = onClose;\n  }, [delay, onClose]);\n  var autohideTimeout = useTimeout();\n  var autohideFunc = useCallback(function () {\n    if (!(autohide && show)) {\n      return;\n    }\n\n    onCloseRef.current();\n  }, [autohide, show]);\n  autohideTimeout.set(autohideFunc, delayRef.current);\n  var useAnimation = useMemo(function () {\n    return Transition && animation;\n  }, [Transition, animation]);\n  var toast = React.createElement(\"div\", _extends({}, props, {\n    ref: ref,\n    className: classNames(bsPrefix, className, !useAnimation && show && 'show'),\n    role: \"alert\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\"\n  }), children);\n  var toastContext = {\n    onClose: onClose\n  };\n  return React.createElement(ToastContext.Provider, {\n    value: toastContext\n  }, useAnimation ? React.createElement(Transition, {\n    in: show\n  }, toast) : toast);\n});\nToast.defaultProps = defaultProps;\nToast.displayName = 'Toast';\nToast.Body = Body;\nToast.Header = Header;\nexport default Toast;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverTitle = React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"bsPrefix\", \"className\", \"children\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-header');\n  return React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(bsPrefix, className)\n  }), children);\n});\nexport default PopoverTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverContent = React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"bsPrefix\", \"className\", \"children\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-body');\n  return React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix)\n  }), children);\n});\nexport default PopoverContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport isRequiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PopoverTitle from './PopoverTitle';\nimport PopoverContent from './PopoverContent';\nvar defaultProps = {\n  placement: 'right'\n};\nvar Popover = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      placement = _ref.placement,\n      className = _ref.className,\n      style = _ref.style,\n      children = _ref.children,\n      content = _ref.content,\n      arrowProps = _ref.arrowProps,\n      _ = _ref.scheduleUpdate,\n      _1 = _ref.outOfBoundaries,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"placement\", \"className\", \"style\", \"children\", \"content\", \"arrowProps\", \"scheduleUpdate\", \"outOfBoundaries\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'popover');\n  return React.createElement(\"div\", _extends({\n    ref: ref,\n    role: \"tooltip\",\n    style: style,\n    \"x-placement\": placement,\n    className: classNames(className, decoratedBsPrefix, \"bs-popover-\" + placement)\n  }, props), React.createElement(\"div\", _extends({\n    className: \"arrow\"\n  }, arrowProps)), content ? React.createElement(PopoverContent, null, children) : children);\n});\nPopover.defaultProps = defaultProps;\nPopover.Title = PopoverTitle;\nPopover.Content = PopoverContent;\nexport default Popover;"],"sourceRoot":""}